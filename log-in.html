<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Log In</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap&subset=latin-ext" rel="stylesheet">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/fontawesome-all.css" rel="stylesheet">
    <link href="css/swiper.css" rel="stylesheet">
	<link href="css/magnific-popup.css" rel="stylesheet">
	<link href="css/styles.css" rel="stylesheet">
    <link rel="shortcut icon" href="ico.png">
</head>
<body data-spy="scroll" data-target=".fixed-top">
	<div class="spinner-wrapper">
        <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
        </div>
    </div>
<nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
        <div class="container">
            <a class="navbar-brand logo-image" href="index.html" style="text-decoration:none !important"><h1 style="color:white !important;">XI Home Page</h1></a> 
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-awesome fas fa-bars"></span>
                <span class="navbar-toggler-awesome fas fa-times"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarsExampleDefault">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link page-scroll" href="index.html">HOME <span class="sr-only">(current)</span></a>
                    </li>
                </ul>
                <span class="nav-item">
                    <a class="btn-outline-sm" href="sign-up.html">SIGN UP</a>
                </span>
            </div>
        </div>
    </nav>
    <header id="header" class="ex-2-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Log In</h1>
				   <br>
                    <div class="form-container">
                        <form id="logInForm" data-toggle="validator" data-focus="false">
                            <div class="form-group">
                                <input type="text" class="form-control-input" id="name" required>
                                <label class="label-control" for="name">Name</label>
                            </div>
                            <div class="form-group">
                                <input type="number" class="form-control-input" id="pin_main" required>
                                <label class="label-control" for="pin">Pin</label>
                            </div>
                            <div class="form-group">
                                <button class="form-control-submit-button" id="submit">LOG IN</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div> 
    </header> 

    <script src="js/jquery.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.min.js"></script> 
    <script src="js/swiper.min.js"></script> 
    <script src="js/jquery.magnific-popup.js"></script> 
    <script src="js/validator.min.js"></script> 
    <script src="js/scripts.js"></script>
<script type="module">
	  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
	  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-analytics.js";
	  const firebaseConfig = {
		apiKey: "AIzaSyCLhgz6eHJz1h75UCzJBLpKXG3ej0m8Hpc",
		authDomain: "meme-arena-x.firebaseapp.com",
		databaseURL: "https://meme-arena-x-default-rtdb.asia-southeast1.firebasedatabase.app",
		projectId: "meme-arena-x",
		storageBucket: "meme-arena-x.appspot.com",
		messagingSenderId: "1065864797805",
		appId: "1:1065864797805:web:348583a22f09f1d2f5a964",
		measurementId: "G-5QW7K75VEE"
	  };
	  const app = initializeApp(firebaseConfig);
	  const analytics = getAnalytics(app);
	  import {getDatabase, ref, get} 
	  from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";
	  const db = getDatabase();
	  
	const color = ["#1974D2", "#D72A2B", "#643BC8", "orange", "#fe8a71", "fe8a71","#1974D2", "#D72A2B", "#643BC8"];
	document.getElementById("submit").onclick = function() {
		const name = document.getElementById("name").value;console.log(name);
		const pin = document.getElementById("pin_main").value;console.log(pin);
		const Ref = ref(db, "USR_LST/" + name + "/pin");
		get(Ref).then((snapshot) => {
		const data = snapshot.val();
		Math.floor(Math.random() * 10);
		if (data == pin){localStorage.UsEr_Name_MemEArIna_UsEr_ApS2 = name;console.log(localStorage.UsEr_Name_MemEArIna_UsEr_ApS2);localStorage.UsEr_Name_MemEArIna_UsEr_ApS2_Color= color[Math.floor(Math.random() * 10)];window.location.replace("main.html");} else{alert("Wrong Details")};

		});
	}
</script>
</body>
<!-- document.getElementById("1").onclick = function(){if(localStorage.signup_Name_MemeArina_User_Aps2 != "done"){ set(ref(db,"Request/1"),({name:"Vishwash"}));localStorage.signup_Name_MemeArina_User_Aps2 = "done";alert("Requested")}else{alert("You can request only once.")}}; 		console.log(localStorage.UsEr_Name_MemEArIna_UsEr_ApS2);-->
</html>
